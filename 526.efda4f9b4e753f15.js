"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[526],{8526:(bt,w,l)=>{l.r(w),l.d(w,{CustomerModule:()=>Zt});var C=l(6895),r=l(433),g=l(243),t=l(1571),d=l(805),S=l(5471);let _=(()=>{class n{constructor(e,o){this.api=e,this.router=o}getAll(){return this.api.get("customer-group")}getOne(e){return this.api.get("customer-group/"+e)}add(e){return this.api.post("customer-group",e)}update(e){return this.api.put("customer-group",e)}delete(e){return this.api.delete("customer-group/"+e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(S.O),t.LFG(g.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var q=l(3471),h=l(4325),v=l(1831),c=l(4980),x=l(1740),Z=l(5593);function F(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."),t.qZA())}function N(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"V\u01b0\u1ee3t qu\xe1 chi\u1ec1u d\xe0i cho ph\xe9p."),t.qZA())}function Y(n,i){if(1&n&&(t.TgZ(0,"small",9),t.YNc(1,F,2,0,"span",10),t.YNc(2,N,2,0,"span",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.form.controls.name.errors?null:e.form.controls.name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.form.controls.name.errors?null:e.form.controls.name.errors.maxlength)}}function J(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"V\u01b0\u1ee3t qu\xe1 chi\u1ec1u d\xe0i cho ph\xe9p."),t.qZA())}function L(n,i){if(1&n&&(t.TgZ(0,"small",9),t.YNc(1,J,2,0,"span",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.form.controls.description.errors?null:e.form.controls.description.errors.maxlength)}}const D=function(){return{"margin-right":"10px"}};let M=(()=>{class n{constructor(e,o,s,u,m,a,p,f){this.fb=e,this.messageService=o,this.service=s,this.unitOfMeasureService=u,this.ref=m,this.config=a,this.router=p,this.store=f,this.form=new r.cw({name:new r.NI(null,[r.kI.required,r.kI.maxLength(200)]),description:new r.NI(null,[r.kI.maxLength(100)])}),this.isSubmit=!1}ngOnInit(){}onSubmit(){this.isSubmit=!0,this.form.invalid||this.service.add(this.form.value).subscribe(o=>{1===o.code?(this.isSubmit=!1,this.messageService.add({severity:"success",summary:"Success",detail:o.msg}),setTimeout(()=>{this.ref.close(!0)},500)):(this.isSubmit=!1,this.messageService.add({severity:"error",summary:"Error",detail:o.msg}))})}onCancel(){this.ref.close(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(d.ez),t.Y36(_),t.Y36(q.l),t.Y36(h.E7),t.Y36(h.S),t.Y36(g.F0),t.Y36(v.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-group-add"]],decls:20,vars:12,consts:[[1,"warp-content"],["id","form","method","post","autocomplete","off",1,"row","g-3",3,"formGroup","ngSubmit"],[3,"md"],[1,"required"],["cFormControl","","required","","maxlength","200","type","text","formControlName","name","pInputText","",1,"txt-sm-full"],["class","p-error block",4,"ngIf"],["cols","4","cFormControl","","required","","maxlength","100","type","text","formControlName","description","pInputText","",1,"txt-sm-full"],["type","submit","label","Save","icon","pi pi-check","styleClass","p-button-sm"],["label","Cancel","icon","pi pi-ban","styleClass","p-button-sm p-button-secondary",3,"onClick"],[1,"p-error","block"],[4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"c-container",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(2,"c-row")(3,"c-col",2)(4,"h6"),t._uU(5,"T\xean nh\xf3m kh\xe1ch h\xe0ng "),t._UZ(6,"span",3),t.qZA(),t._UZ(7,"input",4),t.YNc(8,Y,3,2,"small",5),t.qZA()(),t.TgZ(9,"c-row")(10,"c-col",2)(11,"h6"),t._uU(12,"M\xf4 t\u1ea3"),t.qZA(),t.TgZ(13,"textarea",6),t._uU(14,"                "),t.qZA(),t.YNc(15,L,2,1,"small",5),t.qZA()(),t.TgZ(16,"c-row")(17,"c-col"),t._UZ(18,"p-button",7),t.TgZ(19,"p-button",8),t.NdJ("onClick",function(){return o.onCancel()}),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(2),t.Q6J("md",12),t.xp6(4),t.ekj("ng-dirty",o.isSubmit&&o.form.controls.name.errors),t.xp6(1),t.Q6J("ngIf",o.isSubmit&&o.form.controls.name.errors),t.xp6(2),t.Q6J("md",12),t.xp6(3),t.ekj("ng-dirty",o.isSubmit&&o.form.controls.description.errors),t.xp6(2),t.Q6J("ngIf",o.form.controls.description.errors),t.xp6(3),t.Akn(t.DdM(11,D)))},dependencies:[C.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,c.e$z,c.iok,c.Yp0,c.oHf,x.o,Z.zx]}),n})();var y=l(2557);const Q=function(){return{"margin-right":"10px"}};let O=(()=>{class n{constructor(e,o,s,u,m,a,p,f){this.fb=e,this.messageService=o,this.service=s,this.ref=u,this.config=m,this.router=a,this.commonService=p,this.store=f,this.form=new r.cw({name:new r.NI(null,[r.kI.required,r.kI.maxLength(200)]),description:new r.NI(null,[r.kI.maxLength(100)])}),this.isSubmit=!1,this.idCustomerGroup=this.config.data,this.service.getOne(this.idCustomerGroup).subscribe(E=>{this.form.patchValue(E.data)}),this.form=this.fb.group({name:new r.NI(null,[r.kI.required,r.kI.maxLength(200)]),description:new r.NI(null,[r.kI.maxLength(100)])})}ngOnInit(){}resetForm(){this.form=this.fb.group({name:new r.NI(null,[r.kI.required,r.kI.maxLength(200)]),description:new r.NI(null,[r.kI.maxLength(100)])})}onSubmit(){if(this.form.invalid)return;let e=this.form.value;e.id=this.idCustomerGroup,e.isBundle=this.commonService.intTrueFalseToInt(e.isBundle),e.isSellable=this.commonService.intTrueFalseToInt(e.isSellable),e.isStockable=this.commonService.intTrueFalseToInt(e.isStockable),this.service.update(e).subscribe(o=>{1===o.code?(this.messageService.add({severity:"success",summary:"Success",detail:o.msg}),setTimeout(()=>{this.ref.close(!0)},500)):this.messageService.add({severity:"error",summary:"Error",detail:o.msg})})}onCancel(){this.ref.close(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(d.ez),t.Y36(_),t.Y36(h.E7),t.Y36(h.S),t.Y36(g.F0),t.Y36(y.v),t.Y36(v.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-group-update"]],decls:18,vars:4,consts:[[1,"warp-content"],["id","form","method","post","autocomplete","off",1,"row","g-3",3,"formGroup","ngSubmit"],[1,"required"],["type","text","formControlName","name","pInputText","",1,"txt-sm-full"],["cols","4","type","text","formControlName","description","pInputText","",1,"txt-sm-full"],["type","submit","label","Save","icon","pi pi-check","styleClass","p-button-sm"],["label","Cancel","icon","pi pi-ban","styleClass","p-button-sm p-button-secondary",3,"onClick"]],template:function(e,o){1&e&&(t.TgZ(0,"c-container",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(2,"c-row")(3,"c-col")(4,"h6"),t._uU(5,"T\xean nh\xf3m kh\xe1ch h\xe0ng "),t.TgZ(6,"span",2),t._uU(7,"*"),t.qZA()(),t._UZ(8,"input",3),t.qZA()(),t.TgZ(9,"c-row")(10,"c-col")(11,"h6"),t._uU(12,"M\xf4 t\u1ea3"),t.qZA(),t._UZ(13,"textarea",4),t.qZA()(),t.TgZ(14,"c-row")(15,"c-col"),t._UZ(16,"p-button",5),t.TgZ(17,"p-button",6),t.NdJ("onClick",function(){return o.onCancel()}),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(15),t.Akn(t.DdM(3,Q)))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,c.e$z,c.iok,c.Yp0,x.o,Z.zx]}),n})();var I=l(2453),b=l(99),k=l(2137),U=l(3608);const B=["dtcustomergroup"],z=function(){return{"margin-top":"5px","margin-right":"5px"}};function j(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"c-row")(1,"c-col",7)(2,"div",8)(3,"span",9),t._UZ(4,"i",10),t.qZA(),t.TgZ(5,"input",11),t.NdJ("input",function(s){t.CHM(e);const u=t.oxw();return t.KtG(u.applyFilterGlobal(s,"contains"))}),t.qZA()()(),t.TgZ(6,"c-col",12)(7,"p-button",13),t.NdJ("onClick",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.showDialogAdd())}),t.qZA()()()}2&n&&(t.xp6(7),t.Akn(t.DdM(2,z)))}function K(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"th",14),t._uU(2," Stt"),t.qZA(),t.TgZ(3,"th",15),t._UZ(4,"p-sortIcon",16),t._uU(5,"Nh\xf3m kh\xe1ch h\xe0ng "),t.qZA(),t.TgZ(6,"th",17),t._uU(7," M\xf4 t\u1ea3 "),t.qZA(),t.TgZ(8,"th",18),t._UZ(9,"p-sortIcon",19),t._uU(10,"Last modify "),t.qZA(),t.TgZ(11,"th",20),t._uU(12," Ch\u1ec9nh s\u1eeda "),t.TgZ(13,"i",21),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(),u=t.MAs(5);return t.KtG(s.clear(u))}),t.qZA()()()}}function H(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t._UZ(9,"br"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"i",22),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showDialogEdit(u.id))}),t.qZA(),t.TgZ(13,"i",23),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showDialogDelete(u.id))}),t.qZA()()()}if(2&n){const e=i.$implicit,o=i.rowIndex,s=t.oxw();t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.hij("",e.lastModifyingUser," "),t.xp6(2),t.hij(" ",s.commonService.strFormatDate(e.lastModifiedDate)," ")}}const $=function(){return{width:"50vw",maxWidth:"500px"}},V=function(){return["name","description","lastModifyingUser"]};let X=(()=>{class n{constructor(e,o,s,u,m,a,p){this.service=e,this.fb=o,this.messageService=s,this.location=u,this.confirmService=m,this.commonService=a,this.DialogService=p,this.customerGroupList=[]}ngOnInit(){this.service.getAll().subscribe(e=>{this.customerGroupList=e.data})}applyFilterGlobal(e,o){this.dtcustomergroup?.filterGlobal(e.target.value,o)}showDialogAdd(){this.DialogService.open(M,{data:null,header:"Th\xeam nh\xf3m kh\xe1ch h\xe0ng",style:{"max-width":"600px",overflow:"none"},contentStyle:{overflow:"unset"},baseZIndex:1e4,closable:!1}).onClose.subscribe(o=>{o&&(this.ngOnInit(),this.clear(this.dtcustomergroup))})}showDialogEdit(e){this.DialogService.open(O,{data:e,header:"Ch\u1ec9nh s\u1eeda nh\xf3m kh\xe1ch",style:{"max-width":"600px",overflow:"none"},contentStyle:{overflow:"unset"},baseZIndex:1e4,closable:!1}).onClose.subscribe(s=>{s&&(this.ngOnInit(),this.clear(this.dtcustomergroup))})}showDialogDelete(e){this.confirmService.confirm({key:"confirm-delete",message:"B\u1ea1n c\xf3 th\u1eadt s\u1ef1 mu\u1ed1n x\xf3a?",header:"Th\xf4ng b\xe1o",icon:"pi pi-exclamation-triangle",accept:()=>{this.service.delete(e).subscribe(o=>{1===o.code?(this.messageService.add({severity:"success",summary:"Success",detail:o.msg}),this.ngOnInit()):this.messageService.add(0===o.code?{severity:"error",summary:"Error",detail:"C\xf3 kh\xe1ch h\xe0ng thu\u1ed9c nh\xf3m kh\xe1ch h\xe0ng n\xe0y. Kh\xf4ng th\u1ec3 x\xf3a nh\xf3m kh\xe1ch h\xe0ng!"}:{severity:"error",summary:"Error",detail:o.msg})})},reject:()=>{}})}clear(e){e?.clear(),this.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_),t.Y36(r.qu),t.Y36(d.ez),t.Y36(C.Ye),t.Y36(d.YP),t.Y36(y.v),t.Y36(h.xA))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-group-list"]],viewQuery:function(e,o){if(1&e&&t.Gf(B,5),2&e){let s;t.iGM(s=t.CRH())&&(o.dtcustomergroup=s.first)}},decls:9,vars:7,consts:[[1,"warp-content"],["key","confirm-delete",3,"baseZIndex"],["dataKey","id","styleClass","p-datatable-sm","responsiveLayout","scroll","breakpoint","1200px",3,"value","globalFilterFields"],["dtcustomergroup",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-flex","flex-row-start","align-items-center"],[1,"p-inputgroup",2,"width","60%"],[1,"p-inputgroup-addon"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","T\xecm ki\u1ebfm...",3,"input"],[1,"d-flex","justify-content-end"],["pTooltip","Th\xeam nh\xf3m kh\xe1ch h\xe0ng","tooltipPosition","top","icon","pi pi-plus","styleClass","p-button-rounded p-button-secondary p-button-outlined",1,"p-button-sm","p-button-add-new",3,"onClick"],[2,"width","5%"],["pSortableColumn","code",2,"width","20%"],["field","code"],["pSortableColumn","itemGroupName"],["pSortableColumn","lastModifyingUser",2,"width","12%"],["field","lastModifyingUser"],[2,"width","8%"],["pTooltip","Click to refresh",1,"pi","pi-sync",2,"cursor","pointer",3,"click"],["pTooltip","Ch\u1ec9nh s\u1eeda",1,"pi","pi-user-edit","btn-icon-table","edit",2,"margin-right","8px",3,"click"],["pTooltip","X\xf3a",1,"pi","pi-trash","btn-icon-table","remove",2,"margin-left","8px","margin-right","8px",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"c-container",0),t._UZ(1,"p-toast")(2,"p-confirmDialog",1),t.TgZ(3,"c-row")(4,"p-table",2,3),t.YNc(6,j,8,3,"ng-template",4),t.YNc(7,K,14,0,"ng-template",5),t.YNc(8,H,14,5,"ng-template",6),t.qZA()()()),2&e&&(t.xp6(2),t.Akn(t.DdM(5,$)),t.Q6J("baseZIndex",1e4),t.xp6(2),t.Q6J("value",o.customerGroupList)("globalFilterFields",t.DdM(6,V)))},dependencies:[c.e$z,c.iok,c.Yp0,I.FN,d.jx,b.iA,b.lQ,b.fz,x.o,Z.zx,k.Q,U.u]}),n})();var T=l(5861);let A=(()=>{class n{constructor(e,o){this.api=e,this.router=o}getAll(){return this.api.get("customer")}getOne(e){return this.api.get("customer/"+e)}add(e){return this.api.post("customer",e)}update(e){return this.api.put("customer",e)}delete(e){return this.api.delete("customer/"+e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(S.O),t.LFG(g.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var G=l(666);function R(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."),t.qZA())}function P(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"V\u01b0\u1ee3t qu\xe1 chi\u1ec1u d\xe0i cho ph\xe9p."),t.qZA())}function W(n,i){if(1&n&&(t.TgZ(0,"small",13),t.YNc(1,R,2,0,"span",14),t.YNc(2,P,2,0,"span",14),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.form.controls.name.errors?null:e.form.controls.name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.form.controls.name.errors?null:e.form.controls.name.errors.maxlength)}}const tt=function(){return{"margin-right":"10px"}};let et=(()=>{class n{constructor(e,o,s,u,m,a,p,f){this.fb=e,this.messageService=o,this.service_CusGroup=s,this.service=u,this.ref=m,this.config=a,this.router=p,this.store=f,this.form=new r.cw({name:new r.NI(null,[r.kI.required,r.kI.maxLength(500)]),address:new r.NI(null,[r.kI.maxLength(1e3)]),phone:new r.NI(null,[r.kI.maxLength(500)]),fax:new r.NI(null,[r.kI.maxLength(500)]),taxCode:new r.NI(null,[r.kI.maxLength(500)]),customerGroup:new r.NI(null,[r.kI.required])}),this.lisCustomerGroup=[],this.isSubmit=!1}ngOnInit(){var e=this;return(0,T.Z)(function*(){yield e.getCustomerGroup()})()}getCustomerGroup(){var e=this;return(0,T.Z)(function*(){e.lisCustomerGroup=[],yield e.service_CusGroup.getAll().subscribe(o=>{o.data&&o.data.length>0&&(e.lisCustomerGroup=o.data.map(s=>({value:s.id,name:s.name})),e.lisCustomerGroup.unshift({value:null,name:"Ch\u1ecdn nh\xf3m kh\xe1ch h\xe0ng"}))})})()}onSubmit(){this.isSubmit=!0,this.form.invalid||this.service.add(this.form.value).subscribe(o=>{1===o.code?(this.isSubmit=!1,this.messageService.add({severity:"success",summary:"Success",detail:o.msg}),setTimeout(()=>{this.ref.close(!0)},500)):(this.isSubmit=!1,this.messageService.add({severity:"error",summary:"Error",detail:o.msg}))})}onCancel(){this.ref.close(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(d.ez),t.Y36(_),t.Y36(A),t.Y36(h.E7),t.Y36(h.S),t.Y36(g.F0),t.Y36(v.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-add"]],decls:37,vars:15,consts:[[1,"warp-content"],["id","form","method","post","autocomplete","off",1,"row","g-3",3,"formGroup","ngSubmit"],[3,"md"],[1,"required"],["placeholder","Ch\u1ecdn nh\xf3m kh\xe1ch h\xe0ng","formControlName","customerGroup","optionValue","value","optionLabel","name",1,"dropdown-sm-full",3,"options","autoDisplayFirst"],["cFormControl","","required","","maxlength","200","type","text","formControlName","name","pInputText","",1,"txt-sm-full"],["class","p-error block",4,"ngIf"],["cFormControl","","maxlength","200","type","text","formControlName","phone","pInputText","",1,"txt-sm-full"],["cFormControl","","maxlength","100","type","text","formControlName","fax","pInputText","",1,"txt-sm-full"],["cFormControl","","maxlength","100","type","text","formControlName","taxCode","pInputText","",1,"txt-sm-full"],["cFormControl","","maxlength","100","type","text","formControlName","address","pInputText","",1,"txt-sm-full"],["type","submit","label","Save","icon","pi pi-check","styleClass","p-button-sm"],["label","Cancel","icon","pi pi-ban","styleClass","p-button-sm p-button-secondary",3,"onClick"],[1,"p-error","block"],[4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"c-container",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(2,"c-row")(3,"c-col",2)(4,"h6"),t._uU(5,"Nh\xf3m kh\xe1ch h\xe0ng "),t._UZ(6,"span",3),t.qZA(),t._UZ(7,"p-dropdown",4),t.qZA(),t.TgZ(8,"c-col",2)(9,"h6"),t._uU(10,"T\xean kh\xe1ch h\xe0ng "),t._UZ(11,"span",3),t.qZA(),t._UZ(12,"input",5),t.YNc(13,W,3,2,"small",6),t.qZA()(),t.TgZ(14,"c-row")(15,"c-col",2)(16,"h6"),t._uU(17,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t._UZ(18,"input",7),t.qZA(),t.TgZ(19,"c-col",2)(20,"h6"),t._uU(21,"Fax"),t.qZA(),t._UZ(22,"input",8),t.qZA()(),t.TgZ(23,"c-row")(24,"c-col",2)(25,"h6"),t._uU(26,"M\xe3 s\u1ed1 thu\u1ebf"),t.qZA(),t._UZ(27,"input",9),t.qZA()(),t.TgZ(28,"c-row")(29,"c-col",2)(30,"h6"),t._uU(31,"\u0110\u1ecba ch\u1ec9"),t.qZA(),t._UZ(32,"input",10),t.qZA()(),t.TgZ(33,"c-row")(34,"c-col"),t._UZ(35,"p-button",11),t.TgZ(36,"p-button",12),t.NdJ("onClick",function(){return o.onCancel()}),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(2),t.Q6J("md",6),t.xp6(4),t.Q6J("options",o.lisCustomerGroup)("autoDisplayFirst",!1),t.xp6(1),t.Q6J("md",6),t.xp6(4),t.ekj("ng-dirty",o.isSubmit&&o.form.controls.name.errors),t.xp6(1),t.Q6J("ngIf",o.isSubmit&&o.form.controls.name.errors),t.xp6(2),t.Q6J("md",6),t.xp6(4),t.Q6J("md",6),t.xp6(5),t.Q6J("md",12),t.xp6(5),t.Q6J("md",12),t.xp6(6),t.Akn(t.DdM(14,tt)))},dependencies:[C.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,c.e$z,c.iok,c.Yp0,c.oHf,x.o,Z.zx,G.Lt],styles:['<c-container class="warp-content">\r\n    <form class="row g-3" id="form" [formGroup]="form" method="post" (ngSubmit)="onSubmit()" autocomplete="off">\r\n        <c-row>\r\n            <c-col [md]="6">\r\n                <h6>Nh\xf3m kh\xe1ch h\xe0ng\r\n                    <span class="required"></span>\r\n                </h6>\r\n                <p-dropdown placeholder="Ch\u1ecdn nh\xf3m kh\xe1ch h\xe0ng" [options]="lisCustomerGroup" class="dropdown-sm-full" formControlName="customerGroup" \r\n                [autoDisplayFirst]="false" optionValue="value" optionLabel="name"></p-dropdown>\r\n                \x3c!-- <small *ngIf="form.controls[\'description\'].errors" class="p-error block">\r\n                    <span *ngIf="form.controls[\'description\'].errors?.[\'maxlength\']">V\u01b0\u1ee3t qu\xe1 chi\u1ec1u d\xe0i cho ph\xe9p.</span>\r\n                </small> --\x3e\r\n            </c-col>\r\n            <c-col [md]="6">\r\n                <h6>T\xean kh\xe1ch h\xe0ng\r\n                    <span class="required"></span>\r\n                </h6>\r\n                <input cFormControl required maxlength="200" type="text" formControlName="name" pInputText\r\n                    class="txt-sm-full" [class.ng-dirty]="isSubmit && form.controls[\'name\'].errors" />\r\n                <small *ngIf="isSubmit && form.controls[\'name\'].errors" class="p-error block">\r\n                    <span *ngIf="form.controls[\'name\'].errors?.[\'required\']">Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.</span>\r\n                    <span *ngIf="form.controls[\'name\'].errors?.[\'maxlength\']">V\u01b0\u1ee3t qu\xe1 chi\u1ec1u d\xe0i cho ph\xe9p.</span>\r\n                </small>\r\n            </c-col>\r\n        </c-row>\r\n        <c-row>\r\n            <c-col [md]="6">\r\n                <h6>S\u1ed1 \u0111i\u1ec7n tho\u1ea1i</h6>\r\n                <input cFormControl maxlength="200" type="text" formControlName="phone" pInputText\r\n                    class="txt-sm-full"/>\r\n            </c-col>\r\n            <c-col [md]="6">\r\n                <h6>Fax</h6>\r\n                <input cFormControl maxlength="100" type="text" formControlName="fax"\r\n                    pInputText class="txt-sm-full"/>\r\n            </c-col>\r\n        </c-row>\r\n        <c-row>\r\n            <c-col [md]="12">\r\n                <h6>M\xe3 s\u1ed1 thu\u1ebf</h6>\r\n                <input cFormControl maxlength="100" type="text" formControlName="taxCode"\r\n                    pInputText class="txt-sm-full">\r\n            </c-col>\r\n        </c-row>\r\n        <c-row>\r\n            <c-col [md]="12">\r\n                <h6>\u0110\u1ecba ch\u1ec9</h6>\r\n                <input cFormControl maxlength="100" type="text" formControlName="address"\r\n                    pInputText class="txt-sm-full">\r\n            </c-col>\r\n        </c-row>\r\n        <c-row>\r\n            <c-col>\r\n                <p-button type="submit" label="Save" icon="pi pi-check" styleClass="p-button-sm"\r\n                    [style]="{\'margin-right\': \'10px\'}"></p-button>\r\n                <p-button label="Cancel" (onClick)="onCancel();" icon="pi pi-ban"\r\n                    styleClass="p-button-sm p-button-secondary"></p-button>\r\n            </c-col>\r\n        </c-row>\r\n    </form>\r\n</c-container>']}),n})();function ot(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Nh\xf3m kh\xe1ch h\xe0ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),t.qZA())}function nt(n,i){if(1&n&&(t.TgZ(0,"small",13),t.YNc(1,ot,2,0,"span",14),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isSubmit&&((null==e.form.controls.customerGroup.errors?null:e.form.controls.customerGroup.errors.maxlength)||0==e.form.controls.customerGroup.value))}}function rt(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."),t.qZA())}function st(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"V\u01b0\u1ee3t qu\xe1 chi\u1ec1u d\xe0i cho ph\xe9p."),t.qZA())}function it(n,i){if(1&n&&(t.TgZ(0,"small",13),t.YNc(1,rt,2,0,"span",14),t.YNc(2,st,2,0,"span",14),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.form.controls.name.errors?null:e.form.controls.name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.form.controls.name.errors?null:e.form.controls.name.errors.maxlength)}}const ut=function(){return{"margin-right":"10px"}};let lt=(()=>{class n{constructor(e,o,s,u,m,a,p,f){this.fb=e,this.messageService=o,this.service_CusGroup=s,this.service=u,this.ref=m,this.config=a,this.router=p,this.store=f,this.lisCustomerGroup=[],this.isSubmit=!1,this.form=new r.cw({id:new r.NI(null),name:new r.NI(null,[r.kI.required,r.kI.maxLength(500)]),address:new r.NI(null,[r.kI.maxLength(1e3)]),phone:new r.NI(null,[r.kI.maxLength(500)]),fax:new r.NI(null,[r.kI.maxLength(500)]),taxCode:new r.NI(null,[r.kI.maxLength(500)]),customerGroup:new r.NI(0,[r.kI.required])}),this.idCustomer=this.config.data,this.service.getOne(this.idCustomer).subscribe(E=>{this.form.patchValue(E.data)})}ngOnInit(){var e=this;return(0,T.Z)(function*(){yield e.getCustomerGroup()})()}getCustomerGroup(){var e=this;return(0,T.Z)(function*(){e.lisCustomerGroup=[],yield e.service_CusGroup.getAll().subscribe(o=>{o.data&&o.data.length>0&&(e.lisCustomerGroup=o.data.map(s=>({value:s.id,name:s.name})),e.lisCustomerGroup.unshift({value:0,name:"Ch\u1ecdn nh\xf3m kh\xe1ch h\xe0ng"}))})})()}onSubmit(){if(this.isSubmit=!0,this.form.invalid)return;let e=this.form.value;e.id=this.idCustomer,this.service.update(e).subscribe(o=>{1===o.code?(this.isSubmit=!1,this.messageService.add({severity:"success",summary:"Success",detail:o.msg}),setTimeout(()=>{this.ref.close(!0)},500)):(this.isSubmit=!1,this.messageService.add({severity:"error",summary:"Error",detail:o.msg}))})}onCancel(){this.ref.close(!1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(d.ez),t.Y36(_),t.Y36(A),t.Y36(h.E7),t.Y36(h.S),t.Y36(g.F0),t.Y36(v.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-update"]],decls:38,vars:16,consts:[[1,"warp-content"],["id","form","method","post","autocomplete","off",1,"row","g-3",3,"formGroup","ngSubmit"],[3,"md"],[1,"required"],["placeholder","Ch\u1ecdn nh\xf3m kh\xe1ch h\xe0ng","formControlName","customerGroup","optionValue","value","optionLabel","name",1,"dropdown-sm-full",3,"options","autoDisplayFirst"],["class","p-error block",4,"ngIf"],["cFormControl","","required","","maxlength","200","type","text","formControlName","name","pInputText","",1,"txt-sm-full"],["cFormControl","","maxlength","200","type","text","formControlName","phone","pInputText","",1,"txt-sm-full"],["cFormControl","","maxlength","100","type","text","formControlName","fax","pInputText","",1,"txt-sm-full"],["cFormControl","","maxlength","100","type","text","formControlName","taxCode","pInputText","",1,"txt-sm-full"],["cFormControl","","maxlength","100","type","text","formControlName","address","pInputText","",1,"txt-sm-full"],["type","submit","label","Save","icon","pi pi-check","styleClass","p-button-sm"],["label","Cancel","icon","pi pi-ban","styleClass","p-button-sm p-button-secondary",3,"onClick"],[1,"p-error","block"],[4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"c-container",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(2,"c-row")(3,"c-col",2)(4,"h6"),t._uU(5,"Nh\xf3m kh\xe1ch h\xe0ng "),t._UZ(6,"span",3),t.qZA(),t._UZ(7,"p-dropdown",4),t.YNc(8,nt,2,1,"small",5),t.qZA(),t.TgZ(9,"c-col",2)(10,"h6"),t._uU(11,"T\xean kh\xe1ch h\xe0ng "),t._UZ(12,"span",3),t.qZA(),t._UZ(13,"input",6),t.YNc(14,it,3,2,"small",5),t.qZA()(),t.TgZ(15,"c-row")(16,"c-col",2)(17,"h6"),t._uU(18,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t._UZ(19,"input",7),t.qZA(),t.TgZ(20,"c-col",2)(21,"h6"),t._uU(22,"Fax"),t.qZA(),t._UZ(23,"input",8),t.qZA()(),t.TgZ(24,"c-row")(25,"c-col",2)(26,"h6"),t._uU(27,"M\xe3 s\u1ed1 thu\u1ebf"),t.qZA(),t._UZ(28,"input",9),t.qZA()(),t.TgZ(29,"c-row")(30,"c-col",2)(31,"h6"),t._uU(32,"\u0110\u1ecba ch\u1ec9"),t.qZA(),t._UZ(33,"input",10),t.qZA()(),t.TgZ(34,"c-row")(35,"c-col"),t._UZ(36,"p-button",11),t.TgZ(37,"p-button",12),t.NdJ("onClick",function(){return o.onCancel()}),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(2),t.Q6J("md",6),t.xp6(4),t.Q6J("options",o.lisCustomerGroup)("autoDisplayFirst",!1),t.xp6(1),t.Q6J("ngIf",o.isSubmit&&(o.form.controls.customerGroup.errors||0==o.form.controls.customerGroup.value)),t.xp6(1),t.Q6J("md",6),t.xp6(4),t.ekj("ng-dirty",o.isSubmit&&o.form.controls.name.errors),t.xp6(1),t.Q6J("ngIf",o.isSubmit&&o.form.controls.name.errors),t.xp6(2),t.Q6J("md",6),t.xp6(4),t.Q6J("md",6),t.xp6(5),t.Q6J("md",12),t.xp6(5),t.Q6J("md",12),t.xp6(6),t.Akn(t.DdM(15,ut)))},dependencies:[C.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,c.e$z,c.iok,c.Yp0,c.oHf,x.o,Z.zx,G.Lt]}),n})();const ct=["dtcustomer"],mt=function(){return{"margin-top":"5px","margin-right":"5px"}};function at(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"c-row")(1,"c-col",7)(2,"div",8)(3,"span",9),t._UZ(4,"i",10),t.qZA(),t.TgZ(5,"input",11),t.NdJ("input",function(s){t.CHM(e);const u=t.oxw();return t.KtG(u.applyFilterGlobal(s,"contains"))}),t.qZA()()(),t.TgZ(6,"c-col",12)(7,"p-button",13),t.NdJ("onClick",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.showDialogAdd())}),t.qZA()()()}2&n&&(t.xp6(7),t.Akn(t.DdM(2,mt)))}function pt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"th",14),t._uU(2," Stt"),t.qZA(),t.TgZ(3,"th",15),t._UZ(4,"p-sortIcon",16),t._uU(5,"T\xean kh\xe1ch h\xe0ng "),t.qZA(),t.TgZ(6,"th",17),t._UZ(7,"p-sortIcon",18),t._uU(8,"\u0110\u1ecba ch\u1ec9 "),t.qZA(),t.TgZ(9,"th",19),t._UZ(10,"p-sortIcon",20),t._uU(11,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),t.qZA(),t.TgZ(12,"th",21),t._UZ(13,"p-sortIcon",22),t._uU(14,"Fax "),t.qZA(),t.TgZ(15,"th",23),t._UZ(16,"p-sortIcon",24),t._uU(17,"M\xe3 s\u1ed1 thu\u1ebf "),t.qZA(),t.TgZ(18,"th",25),t._UZ(19,"p-sortIcon",26),t._uU(20,"Nh\xf3m kh\xe1ch h\xe0ng "),t.qZA(),t.TgZ(21,"th",27),t._UZ(22,"p-sortIcon",28),t._uU(23,"Last modify "),t.qZA(),t.TgZ(24,"th"),t._uU(25," Ch\u1ec9nh s\u1eeda "),t.TgZ(26,"i",29),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(),u=t.MAs(5);return t.KtG(s.clear(u))}),t.qZA()()()}}function dt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t._UZ(17,"br"),t._uU(18),t.qZA(),t.TgZ(19,"td")(20,"i",30),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showDialogEdit(u.id))}),t.qZA(),t.TgZ(21,"i",31),t.NdJ("click",function(){const u=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showDialogDelete(u.id))}),t.qZA()()()}if(2&n){const e=i.$implicit,o=i.rowIndex,s=t.oxw();t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.address),t.xp6(2),t.Oqu(e.phone),t.xp6(2),t.Oqu(e.fax),t.xp6(2),t.Oqu(e.taxCode),t.xp6(2),t.Oqu(s.lisCustomerGroup[e.customerGroup]),t.xp6(2),t.hij("",e.lastModifyingUser," "),t.xp6(2),t.hij(" ",s.commonService.strFormatDate(e.lastModifiedDate)," ")}}const ht=function(){return{width:"50vw",maxWidth:"500px"}},ft=function(){return["name","address","phone","fax","taxcode","customerGroup","lastModifyingUser"]},gt=[{path:"",redirectTo:"customer",pathMatch:"full"},{path:"",data:{title:"Qu\u1ea3n l\xfd kh\xe1ch h\xe0ng"},children:[{path:"",pathMatch:"full",redirectTo:"customer"},{path:"customer-group",component:X,data:{title:"Nh\xf3m kh\xe1ch h\xe0ng"}},{path:"customer",component:(()=>{class n{constructor(e,o,s,u,m,a,p,f){this.service=e,this.serviceCusGroup=o,this.fb=s,this.messageService=u,this.location=m,this.confirmService=a,this.commonService=p,this.DialogService=f,this.customerList=[]}ngOnInit(){var e=this;return(0,T.Z)(function*(){yield e.getCustomerGroup(),e.service.getAll().subscribe(o=>{e.customerList=o.data})})()}getCustomerGroup(){var e=this;return(0,T.Z)(function*(){e.lisCustomerGroup={},yield e.serviceCusGroup.getAll().subscribe(o=>{o.data&&o.data.length>0&&o.data.forEach(s=>{e.lisCustomerGroup[s.id]=s.name})})})()}applyFilterGlobal(e,o){this.dtcustomer?.filterGlobal(e.target.value,o)}showDialogAdd(){this.DialogService.open(et,{data:null,header:"Th\xeam kh\xe1ch h\xe0ng",style:{"max-width":"600px",overflow:"none"},contentStyle:{overflow:"unset"},baseZIndex:1e4,closable:!1}).onClose.subscribe(o=>{o&&(this.ngOnInit(),this.clear(this.dtcustomer))})}showDialogEdit(e){this.DialogService.open(lt,{data:e,header:"Ch\u1ec9nh s\u1eeda kh\xe1ch",style:{"max-width":"600px",overflow:"none"},contentStyle:{overflow:"unset"},baseZIndex:1e4,closable:!1}).onClose.subscribe(s=>{s&&(this.ngOnInit(),this.clear(this.dtcustomer))})}showDialogDelete(e){this.confirmService.confirm({key:"confirm-delete",message:"B\u1ea1n c\xf3 th\u1eadt s\u1ef1 mu\u1ed1n x\xf3a?",header:"Th\xf4ng b\xe1o",icon:"pi pi-exclamation-triangle",accept:()=>{this.service.delete(e).subscribe(o=>{1===o.code?(this.messageService.add({severity:"success",summary:"Success",detail:o.msg}),this.ngOnInit()):this.messageService.add({severity:"error",summary:"Error",detail:o.msg})})},reject:()=>{}})}clear(e){e?.clear(),this.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A),t.Y36(_),t.Y36(r.qu),t.Y36(d.ez),t.Y36(C.Ye),t.Y36(d.YP),t.Y36(y.v),t.Y36(h.xA))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-list"]],viewQuery:function(e,o){if(1&e&&t.Gf(ct,5),2&e){let s;t.iGM(s=t.CRH())&&(o.dtcustomer=s.first)}},decls:9,vars:7,consts:[[1,"warp-content"],["key","confirm-delete",3,"baseZIndex"],["dataKey","id","styleClass","p-datatable-sm","responsiveLayout","scroll","breakpoint","1200px",3,"value","globalFilterFields"],["dtcustomergroup",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-flex","flex-row-start","align-items-center"],[1,"p-inputgroup",2,"width","60%"],[1,"p-inputgroup-addon"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","T\xecm ki\u1ebfm...",3,"input"],[1,"d-flex","justify-content-end"],["pTooltip","Th\xeam kh\xe1ch h\xe0ng","tooltipPosition","top","icon","pi pi-plus","styleClass","p-button-rounded p-button-secondary p-button-outlined",1,"p-button-sm","p-button-add-new",3,"onClick"],[2,"width","3%"],["pSortableColumn","name",2,"width","15%"],["field","name"],["pSortableColumn","address",2,"width","22%"],["field","address"],["pSortableColumn","phone",2,"width","10%"],["field","phone"],["pSortableColumn","fax",2,"width","6%"],["field","fax"],["pSortableColumn","taxcode",2,"width","6%"],["field","taxcode"],["pSortableColumn","customerGroup",2,"width","18%"],["field","customerGroup"],["pSortableColumn","lastModifyingUser",2,"width","12%"],["field","lastModifyingUser"],["pTooltip","Click to refresh",1,"pi","pi-sync",2,"cursor","pointer",3,"click"],["pTooltip","Ch\u1ec9nh s\u1eeda",1,"pi","pi-user-edit","btn-icon-table","edit",2,"margin-right","8px",3,"click"],["pTooltip","X\xf3a",1,"pi","pi-trash","btn-icon-table","remove",2,"margin-left","8px","margin-right","8px",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"c-container",0),t._UZ(1,"p-toast")(2,"p-confirmDialog",1),t.TgZ(3,"c-row")(4,"p-table",2,3),t.YNc(6,at,8,3,"ng-template",4),t.YNc(7,pt,27,0,"ng-template",5),t.YNc(8,dt,22,9,"ng-template",6),t.qZA()()()),2&e&&(t.xp6(2),t.Akn(t.DdM(5,ht)),t.Q6J("baseZIndex",1e4),t.xp6(2),t.Q6J("value",o.customerList)("globalFilterFields",t.DdM(6,ft)))},dependencies:[c.e$z,c.iok,c.Yp0,I.FN,d.jx,b.iA,b.lQ,b.fz,x.o,Z.zx,k.Q,U.u]}),n})(),data:{title:"Danh s\xe1ch kh\xe1ch h\xe0ng"}}]}];let Ct=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(gt),g.Bz]}),n})();var _t=l(7893),xt=l(2928);let Zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.ez,r.u5,r.UX,Ct,xt.s,_t.W]}),n})()}}]);